<ion-header>
  <ion-toolbar>
    <ion-title>tripsearch</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-modal [isOpen]="isSearchingTripStart">
    <ng-template>
      <app-modal-content>
        <ion-searchbar [(ngModel)]="searchTripStart"></ion-searchbar>
        <ion-list>
          <ion-item *ngFor="let stationName of stationsNameList | stationSearch: searchTripStart " (click)="pickStartStation(stationName)">
            {{ stationName }}
          </ion-item>
        </ion-list>
        <ion-button (click)="validateStartSearchModal()">Valider</ion-button>
      </app-modal-content>
    </ng-template>
  </ion-modal>

  <ion-modal [isOpen]="isSearchingTripEnd">
    <ng-template>
      <app-modal-content>
        <ion-searchbar [(ngModel)]="searchTripEnd"></ion-searchbar>
        <ion-list>
          <ion-item *ngFor="let stationName of stationsNameList | stationSearch: searchTripEnd " (click)="pickEndStation(stationName)">
            {{ stationName }}
          </ion-item>
        </ion-list>
        <ion-button (click)="validateEndSearchModal()">Valider</ion-button>
      </app-modal-content>
    </ng-template>
  </ion-modal>

  <a (click)="toggleStartSearchModal()">
    <ion-item>
      <ion-label>Arrêt de départ</ion-label>
      <ion-input [(ngModel)]="tripStart"></ion-input>
    </ion-item>
  </a>

  <a (click)="toggleEndSearchModal()">
    <ion-item>
      <ion-label>Arrêt d'arrivée</ion-label>
      <ion-input [(ngModel)]="tripEnd"></ion-input>
    </ion-item>
  </a>

  <ion-button (click)="launchTripSearch()">Valider</ion-button>
</ion-content>
